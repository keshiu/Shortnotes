"use strict";var main=function(e){var n=e.map(function(e){return e.description});$(".tabs a span").toArray().forEach(function(t){$(t).on("click",function(){var a,r=$(t);if($(".tabs a span").removeClass("active"),r.addClass("active"),$("main .content").empty(),r.parent().is(":nth-child(1)")){a=$("<ul>");for(var o=n.length-1;o>=0;o--)a.append($("<li>").text(n[o]))}else if(r.parent().is(":nth-child(2)"))a=$("<ul>"),n.forEach(function(e){a.append($("<li>").text(e))});else if(r.parent().is(":nth-child(3)")){console.log("Щелчок по вкладке Теги!");var i=[];e.forEach(function(e){e.tags.forEach(function(e){-1===i.indexOf(e)&&i.push(e)})});var c=i.map(function(n){var t=[];return e.forEach(function(e){-1!==e.tags.indexOf(n)&&t.push(e.description)}),{name:n,toDos:t}});c.forEach(function(e){var n=$("<h3>").text(e.name),t=$("<ul>");e.toDos.forEach(function(e){var n=$("<li>").text(e);t.append(n)}),$("main .content").append(n),$("main .content").append(t)})}else if(r.parent().is(":nth-child(4)")){var u=$("<input>").addClass("description"),d=$("<p>").text("Description: "),f=$("<input>").addClass("tags"),l=$("<p>").text("Tags: "),s=$("<button>").text("+");s.on("click",function(){var t=u.val(),a=f.val().split(","),r={description:t,tags:a};$.post("todos",r,function(t){console.log(t),e.push(r),n=e.map(function(e){return e.description}),u.val(""),f.val("")})}),a=$("<div>").append(d).append(u).append(l).append(f).append(s)}return $("main .content").append(a),!1})}),$(".tabs a:first-child span").trigger("click")};$(document).ready(function(){$.getJSON("todos.json",function(e){main(e)})});
